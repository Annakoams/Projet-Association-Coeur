// change title of page https://www.chainedelespoir.org/fr/success-stories#/success/map
if (window.location.pathname === '/fr/success-stories') {
  const title = document.querySelector('main .jumbotron .h2');
  title.innerHTML = 'Zones d\'intervention';
  document.title = 'Zones d\'intervention | La Cha√Æne de l\'Espoir';
}

// add anti spams in form https://www.chainedelespoir.org/fr/contactez-nous
add_antispamfield = function () {
  v_form_contact = document.querySelector('#webform-client-form-335 .form-actions');

  v_input_label = document.createElement('label');
  v_input_label.appendChild(document.createTextNode('Remarque'));
  v_input_label.setAttribute('class', 'remarque');

  v_input_antispam = document.createElement('input');
  v_input_antispam.setAttribute('name', 'remarque');
  v_input_antispam.setAttribute('pattern', '[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$');
  v_input_antispam.setAttribute('placeholder', 'nom@domaine.com');
  v_input_antispam.setAttribute('class', 'remarque');

  // insert the element before target element
  v_form_contact.parentNode.insertBefore(v_input_label, v_form_contact);
  v_form_contact.parentNode.insertBefore(v_input_antispam, v_form_contact);
};

if (window.location.pathname === '/fr/contactez-nous') {
  window.addEventListener("load", add_antispamfield, false);
}

const form = document.querySelector('#webform-client-form-335');
if (form) {
  form.addEventListener("submit", function (e) {
    const antispamInput = document.getElementsByName('remarque');
    if (antispamInput[0].value != '' || !antispamInput[0]) {
      e.preventDefault();
      return false;
    }
  });
}
